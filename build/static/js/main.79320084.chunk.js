(this["webpackJsonpreact-tmdb"]=this["webpackJsonpreact-tmdb"]||[]).push([[0],{82:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),c=n.n(r),i=n(10),s=n.n(i),o=(n(82),n(119)),l=n(121),u=n(123),j=n(90),d=Object(o.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textAlign:"center"}}}));function b(e){Object.assign({},e);var t=d();return Object(a.jsx)(l.a,{position:"static",children:Object(a.jsx)(u.a,{children:Object(a.jsx)(j.a,{variant:"h6",className:t.title,children:"The Movie Database"})})})}var h=n(132),p=n(124),x=n(129),f=n(12),m=n(125),O=n(127),v=n(126),g=n(133),y=n(24),w=n.n(y),S=n(39);function k(e){var t=c.a.useState(e),n=Object(f.a)(t,2),a=n[0],r=(n[1],c.a.useState(null)),i=Object(f.a)(r,2),s=i[0],o=i[1],l=c.a.useState(null),u=Object(f.a)(l,2),j=u[0],d=u[1],b=c.a.useState(!1),h=Object(f.a)(b,2),p=h[0],x=h[1];return c.a.useEffect((function(){var e=function(e){return encodeURI("https://en.wikipedia.org/w/api.php?format=json&action=query&prop=extracts&exintro&explaintext&info&redirects=1&origin=*&titles="+e)}(a),t={method:"GET",headers:{"Content-Type":"application/json",Origin:"*"}};(function(){var n=Object(S.a)(w.a.mark((function n(){var a,r;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return x(!0),n.prev=1,n.next=4,fetch(e,t);case 4:return a=n.sent,n.next=7,a.json();case 7:r=n.sent,o(r),x(!1),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),d(n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(){return n.apply(this,arguments)}})()()}),[a]),{response:s,error:j,isLoading:p}}var N=n(63),D=n.n(N),C=n(128),L=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},wheel:{},score:{position:"absolute",top:34}}}));function q(e){var t=e.label,n=e.score,r=L();return Object(a.jsxs)(h.a,{className:r.root,children:[Object(a.jsx)(j.a,{variant:"body2",component:"p",className:r.label,children:t}),Object(a.jsx)(p.a,{className:r.wheel,variant:"determinate",value:n,size:60,thickness:5}),Object(a.jsxs)(j.a,{variant:"h6",component:"b",className:r.score,children:[n,"%"]})]})}var I=Object(o.a)({root:{},content:{},link:{}});function M(e){var t=e.name,n=(I(),k(t)),r=n.response,c=n.error,i=n.isLoading;return console.log(r),Object(a.jsxs)(h.a,{children:[i&&Object(a.jsx)(p.a,{}),r&&Object(a.jsxs)(h.a,{children:[Object(a.jsx)(j.a,{variant:"body1",children:r.query.pages[Object.keys(r.query.pages)[0]].extract}),Object(a.jsx)(g.a,{href:"https://en.wikipedia.org/?curid="+r.query.pages[Object.keys(r.query.pages)[0]].pageid,target:"_blank",color:"primary",children:"Wikipedia"})]}),c&&"Error Loading Wikipedia Data"]})}var W=Object(o.a)({root:{height:"auto",display:"flex",flexDirection:"row"},media:{height:150,backgroundPositionY:0,width:100,flexShrink:0},content:{display:"flex",flexDirection:"column",justifyContent:"flex-start",flexGrow:1},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexGrow:1}});function E(e){var t=e.posterUrl,n=e.title,r=e.releaseDate,i=e.score,s=W(),o=c.a.useState(!1),l=Object(f.a)(o,2),u=l[0],d=l[1];return Object(a.jsxs)(m.a,{className:s.root,elevation:3,children:[t?Object(a.jsx)(v.a,{className:s.media,image:t,title:"Poster of movie"}):Object(a.jsx)(D.a,{className:s.media,title:"No movie poster",fontSize:"large",color:"primary"}),Object(a.jsxs)(O.a,{className:s.content,children:[Object(a.jsxs)(h.a,{className:s.row,children:[Object(a.jsxs)(h.a,{children:[Object(a.jsx)(g.a,{color:"primary",size:"large",onClick:function(){d(!u)},children:Object(a.jsx)(j.a,{variant:"h6",component:"h2",children:n})}),Object(a.jsxs)(j.a,{variant:"subtitle1",color:"textSecondary",component:"p",children:["Release date: ",r]})]}),Object(a.jsx)(h.a,{children:Object(a.jsx)(q,{score:10*i,label:"User score:"})})]}),Object(a.jsx)(C.a,{in:u,timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(M,{name:n})})]})]})}var F=Object(o.a)((function(e){return{container:{flexWrap:"nowrap",flexDirection:"column",alignItems:"center"},item:{flexGrow:0,flexShrink:0,padding:10,maxWidth:900,width:"100%"}}}));function P(e){var t=e.movieNodeList,n=F();return console.log(t),Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(x.a,{container:!0,justify:"center",className:n.container,children:0===t.length?Object(a.jsx)(j.a,{color:"primary",variant:"h5",children:"We have looked everywhere but couldn't find that movie"}):t.map((function(e){return Object(a.jsx)(x.a,{item:!0,xs:12,className:n.item,children:Object(a.jsx)(E,{posterUrl:e.poster?e.poster.small:null,title:e.name,releaseDate:new Date(e.releaseDate).toLocaleDateString(),score:e.score},e.id)},e.id)}))})})}var T=n(64),G=n.n(T),z=n(131),U=n(130),A=Object(o.a)((function(e){return{margin:{margin:e.spacing(1)},grid:{flexDirection:"row",alignItems:"center",justifyContent:"center"}}}));function B(e){var t=e.onSearch,n=A(),r=c.a.useState("Star Wars"),i=Object(f.a)(r,2),s=i[0],o=i[1];function l(){s.length>0&&t(s)}return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(x.a,{container:!0,className:n.grid,children:[Object(a.jsx)(j.a,{variant:"h5",children:"Search for a Movie:"}),Object(a.jsx)(z.a,{className:n.margin,variant:"outlined",color:"primary",placeholder:"e.g.: Star Wars",value:s,onChange:function(e){o(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&l()},InputProps:{startAdornment:Object(a.jsx)(U.a,{position:"start",children:Object(a.jsx)(G.a,{})})}}),Object(a.jsx)(g.a,{variant:"contained",color:"primary",onClick:l,children:"Search"})]})})}function J(e){var t=c.a.useState(e),n=Object(f.a)(t,2),a=n[0],r=n[1],i=c.a.useState(null),s=Object(f.a)(i,2),o=s[0],l=s[1],u=c.a.useState(null),j=Object(f.a)(u,2),d=j[0],b=j[1],h=c.a.useState(!1),p=Object(f.a)(h,2),x=p[0],m=p[1];function O(){return(O=Object(S.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a){e.next=5;break}return e.next=3,l(void 0);case 3:return e.next=5,r(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.useEffect((function(){var e=function(e){return JSON.stringify({query:'query SearchMovies {  \n                searchMovies(query: "'.concat(e,'") {\n                        id\n                        name \n                        releaseDate\n                        poster{\n                          small\n                        }  \n                        score\n                    }}'),operationName:"SearchMovies"})}(a),t={method:"POST",headers:{"Content-Type":"application/json"},body:e};(function(){var e=Object(S.a)(w.a.mark((function e(){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,fetch("https://tmdb.sandbox.zoosh.ie/dev/graphql",t);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,l(a),m(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),b(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}})()()}),[a]),{response:o,error:d,isLoading:x,search:function(e){return O.apply(this,arguments)}}}var R=Object(o.a)((function(e){return{box:{display:"flex",justifyContent:"center"}}}));function K(e){Object.assign({},e);var t=R(),n=J("Star Wars"),r=n.response,i=(n.error,n.isLoading),s=n.search;return r&&console.log(r.data.searchMovies),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(B,{onSearch:function(e){s(e)}}),r&&Object(a.jsx)(P,{movieNodeList:r.data.searchMovies}),i&&Object(a.jsx)(h.a,{className:t.box,children:Object(a.jsx)(p.a,{})})]})}var Y=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(b,{}),Object(a.jsx)(K,{})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,135)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Y,{})}),document.getElementById("root")),_()}},[[88,1,2]]]);
//# sourceMappingURL=main.79320084.chunk.js.map